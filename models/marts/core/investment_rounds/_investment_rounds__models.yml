version: 2

models:
  - name: dim_investment_rounds
    description: "Canonical investment round dimension - discrete equity financing events"
    columns:
      - name: investment_round_id
        description: "Unique investment round identifier - Primary Key"
        tests:
          - unique
          - not_null
      
      - name: instrument_id
        description: "Instrument associated with the round - Foreign Key to dim_instruments"
        tests:
          - not_null
          - relationships:
              to: ref('dim_instruments')
              field: instrument_id
      
      - name: date
        description: "Date of the investment round"
        tests:
          - not_null
      
      - name: description
        description: "Description of the investment round"
      
      - name: number_of_shares_acquired
        description: "Number of shares acquired in the round"
      
      - name: share_class_id
        description: "Share class for the round - Foreign Key to dim_share_classes"
        tests:
          - relationships:
              to: ref('dim_share_classes')
              field: share_class_id
      
      - name: acquired_stake
        description: "Percentage stake acquired in the round"
      
      - name: created_at
        description: "Timestamp when the investment round record was created"
      
      - name: updated_at
        description: "Timestamp when the investment round record was last updated"
